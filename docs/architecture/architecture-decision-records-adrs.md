# Architecture Decision Records (ADRs)

## ADR-001: Monorepo with pnpm Workspaces
**Decision:** Use monorepo structure with pnpm workspaces
**Rationale:** Enables code sharing between frontend and backend, especially for TypeScript types and text-matching logic

## ADR-002: NextAuth.js over Auth.js v5
**Decision:** Use stable NextAuth.js v4 instead of beta Auth.js v5
**Rationale:** Production stability more important than latest features for MVP

## ADR-003: Cloudflare R2 for Video Storage
**Decision:** Use Cloudflare R2 instead of AWS S3
**Rationale:** Cost-effective (10GB free), includes CDN, minimal configuration

## ADR-004: Server-Side Text Comparison
**Decision:** Implement flexible word matching logic server-side
**Rationale:** Ensures consistency, prevents client-side manipulation, easier to update

## ADR-005: TanStack Query + Zustand
**Decision:** Use TanStack Query for server state, Zustand for client state
**Rationale:** Clear separation of concerns, 70% smaller bundle than Redux, better DX

---

_Generated by BMAD Decision Architecture Workflow v1.3.2_
_Date: 2025-11-06_
_For: sonld_