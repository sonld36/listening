// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
  directUrl = env("DIRECT_URL")
}

// User model with snake_case mapping for database
model User {
  id           String   @id @default(cuid())
  email        String   @unique
  passwordHash String   @map("password_hash")
  createdAt    DateTime @default(now()) @map("created_at")
  updatedAt    DateTime @updatedAt @map("updated_at")

  @@map("users")
}

// VideoClip model for 10-second Friends TV clips
model VideoClip {
  id              String          @id @default(cuid())
  title           String
  description     String?
  clipUrl         String          @map("clip_url")
  durationSeconds Int             @default(10) @map("duration_seconds")
  difficultyLevel DifficultyLevel @map("difficulty_level")
  subtitleText    String          @map("subtitle_text") @db.Text
  difficultyWords Json?           @map("difficulty_words")
  createdAt       DateTime        @default(now()) @map("created_at")
  updatedAt       DateTime        @updatedAt @map("updated_at")

  @@map("video_clips")
}

// Difficulty level enum for video clips
enum DifficultyLevel {
  BEGINNER
  INTERMEDIATE
  ADVANCED
}